[TOC]

# 빅데이터를 지탱하는 기술

---

## 목차

1. 빅데이터의 기초 지식

2. 빅데이터의 검색

3. 빅데이터의 분산 처리

4. 빅데이터의 축적

5. 빅데이터의 파이프라인

6. 빅데이터 분석 기반의 구축

---

## 1장. 빅데이터의 기초 지식

### 1-1. [배경] 빅데이터의 정착

- 기술(하드웨어, 소프트웨어)의 발달로 인해, 이전에는 처리가 곤란한(버려지는) 대용량의 데이터를 처리할 수 있게 됐다.

### 1-2. 빅데이터 시대의 데이터 분석 기반

- 실시간 처리와 배치 처리, 두가지 방식의 데이터 파이프라인

- 데이터 웨어하우스(data warehouse, WDH) : 수집 raw 데이터를 사용 가능하도록 전처리하여 저장함. 장기간 보관

- 데이터 마트(data mart) : DWH에서 분석에 사용할 데이터를 추출, 처리한, BI를 위한 데이터 세트. 단기간 보관

- 데이터 레이크(data lake, DL) : 발생하는 raw 데이터를 전처리하지 않고 원래의 상태로 저장하는 스토리지

- DWH or DL 중심 데이터 파이프라인 구조
  
  - 데이터 소스
    
    - 데이터 웨어하우스 - 수집된 raw 데이터를 전처리하여 적재
    
    - 데이터 레이크 - 수집 raw 데이터를 원 상태 그대로 적재
  
  - 데이터 마트 - DWH(or DL)의 raw데이터 중 필요에 의해 추출한 데이터 세트
  
  각 요소는 '데이터ETL'로 처리된다.

### 1-3. [속성 학습] 스크립트 언어에 의한 특별 분석과 데이터 프레임

- `pandas`를 활용한 스몰 데이터 분석
  
  - 빅데이터에 대한 분산 처리는 지원 X

- `dataframe` 타입을 활용하여 EDA(exploratory data analysis)가 가능하다.
  
  - `dataframe`만의 데이터 조회 뿐만 아니라 `SQL`을 활용할 수 도 있다.

### 1-4. BI 도구와 모니터링

- 데이터를 시각화하기 위해 BI도구를 많이 사용한다.

- BI도구는 사용가능하도록 "전처리"된 데이터에 대해서만 시각화가 가능하다.

- BI 도구 활용을 위해 전처리 작업을 수행할때, **자동화**가 필요한 부분과 **수작업**해야 하는 경계를 잘 확인하자

## 2장. 빅데이터의 탐색

### 2-1. 크로스 집계의 기본

- 레코드중심의 크로스 테이블과 로우,컬럼 중심의 트랜잭션 테이블
  
  - 보통 데이터는 트랜잭션 테이블로 저장된다.

- 수집 데이터를 `SQL`,`pandas`로 집계(aggregation)하여 데이터 마트를 생성후 BI도구를 통해 시각화한다.
  
  - 시스템 구성은 '데이터 마트의 크기'에 따라 결정된다.
  
  - 너무 작은 데이터 마트는 데이터 손실로 정확한 시각화가 힘들고,
  
  - 너무 큰 데이터 마트는 집계의 의미가 무의미하게 자원을 많이 사용한다.
  
  - 어쩔 수 없는 트레이드 오프 관계이므로 필요에 따른 고려가 필요하다.

### 2-2. 열 지향 스토리지에 의한 고속화

- 수십 GB정도의 스몰 데이터는 대기시간에 대한 걱정이 없다..
  
  - 데이터의 증가에 따라 RDB에서의 지연시간이 발생한다면 어떻게 해야할까.

- **MPP**(massive parallel processing, 대규모 병렬 처리) 아키텍쳐를활용하자.
  
  - Amazon Redshift, Google BigQuery 등이 있다.
  
  - 압축과 분산을 통해 대규모 데이터에 대한 부하를 여러 디스크에 분산하여 데이터 로드에 따른 지연을 줄인다.

- 데이터 베이스의 접근 방식
  
  | 데이터 베이스      | 접근 방식                                                                                                                                              |
  | ------------ | -------------------------------------------------------------------------------------------------------------------------------------------------- |
  | 행 지향 데이터 베이스 | 데이터 접근에 index를 활용한다. 마지막 행에 데이터를 추가하면 되므로 쓰기에 특화. 전체 데이터를 로드해야함.                                                                                   |
  | 열 지향 데이터 베이스 | 행의 index는 의미를 갖는 값이 할당된다. 보통 데이터분석에서는 테이블의 전체 데이터가 아닌 부분 데이터가 필요하다. 열 지향 데이터베이스의 경우 필요 컬럼에 대한 데이터를 조회하므로 행 지향 데이터베이스 보다 선택적 조회가 빠르다.               |
  | MPP 데이터 베이스  | MPP에서는 하나의 쿼리를 다수의 작은 태스크로 분해하고 이를 가능한 한 병렬로 실행한다. 1억 레코드로 이루어진 테이블에서 태스크를 10만 레코드로 구분하여 1000개의 태스크로 나눈다. 1000개 태스크에 대한 결과를 집계하여 모든 결과을 총합하여 산출한다. |

### 2-3. 애드 혹 분석과 시각화 도구

- 애드 혹(ad-hoc)
  
  1. 특정한 문제나 일을 위해 만들어진 관습적인 해결책
  2. 일반화할 수 없는 해결책
  3. 어떤 다른 목적에 적응시킬 수 없는 해결책
  
  정형화된 방법론이 아니라, 특정 상황을 위해서만 적용 가능한 방안 이라고 할 수 있겠다.

- '노트북'을 활용한 애드혹 분석, '대시보드'를 활용한 지속적 모니터링

- 필요에 의한 데이터 마트 구축이 선행된다.

### 2-4. 데이터 마트의 기본 구조

- 팩트 테이블 : 트랜잭션과 같은 사실이 기록된 테이블

- 디멘전 테이블 : 트랜잭션에 활용되는 정보가 저장된 데이터

- 비정규화 테이블 :  데이터 분석을 위해서는 정형화된 데이터 테이블을 분해하여 비정규화하는 과정으로 필요에 의한 여러개의 비정규화 테이블로 재생성한다.
  
  - 규모가 작다면 RDB도 적합하지만 아니라면, MPP 데이터베이스와 같은 열 지향 데이터베이스를 사용하자.

## 3장. 빅데이터의 분산 처리

---

- 레퍼런스

> 빅데이터를 지탱하는 기술
