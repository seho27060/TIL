[TOC]

# 실용주의 프로그래머

## 5장. 구부러지거나 부러지거나

#### Topic 28. 결합도 줄이기

- 고치기 쉬운 코드 -> 결합도가 낮은 코드 -> 각자의 책임이 명확한 코드

- 묻지 말고 말하라(TDA/ Tell, Don't Ask)

- 직접적으로 아는 것만 다루는 부끄럼쟁이 코드를 유지하라

#### Topic 29. 실세계를 갖고 저글링하기

- FSM(finite state machine??), 게시-구독, 이벤트 스트림.. 이벤트 중심 구성은 결합도를 낮출 수 있다..

#### Topic 30. 변환 프로그래밍

- 프로그램이란...단순히 보면 입력에 대한 출력.

- 객체 지향 프로그래밍에서 자주 볼 수 있는 연쇄적 호출
  
  ```java
  method()
      .find()
      .calculate()
      .aggregate()
  ```
  
  보다는..
  
  ```java
  a = method();
  b = find(a);
  c = caculate(b);
  d = aggregate(c);
  ```
  
  와 같은 방법이 프로그래밍의 변환에 적합하며, 코드내 결합도를 낮추기 적절하다.

#### Topic 31. 상속세

- 객체의 상속 -> 다형성 추구 -> 생산성 향상 -> 객체간의 결합도 상승...

- 강한 결합도는 코드 리팩토링을 방해한다... 상속없이 다형성을 추구하는 방법은??
  
  - -> **인터페이스!**

- 상황과 문제를 고려하여 정답 이게 맞는 답인가..라는 고민
  
  - 상속이 최적의 답일까? 다른 방법으로 상속의 기능을 하며 결합도를 낮게 유지하는 방법은 없을까?

#### Topic 32. 설정

- 설정을 위해 전체 애플리케이션을 다시 빌드하는건.. 현재엔 불필요한 반복

- 서비스형 설정 - 서비스api 뒤에서 설정을 관리하거나 변경시 관련 컴포넌트에 알림

## 6장 동시성

- 동시성 - 소프트웨어, 병렬성 - 하드웨어

- 알고리즘을 짜면서 순차적 단계로 목적을 이룬다.. 
  
  - 처리시간동안 다른 작업을 하거나,
  
  - 순차적 단계를 벗어나 선수 작업이 완료된 작업을 먼저 처리하는건 
  
  - 많은 효율을 안겨준다.

#### Topic 33. 시간적 결합깨트리기

- 업 다이어그램에서 모든 작업은 순서를 유지해야 작업이 가능한가?

- 분해를 통해 의존성이 있는 작업은 관련 작업 완료까지 대기하고, 의존성이 없는 작업을 먼저 수행. 기존의 시간적 결합을 깨야한다.

#### Topic 34. 공유상태는 틀린상태

- 공유메모리를 사용하는 환경에서는 동시성을 갖기 힘들다.. 

- 자원을 선점할 수있는 세마포어, lock,상호배제로 이를 해결할 수있다.

#### Topic 35. 액터와 프로세스

- 액터
- 액터는 동시성이 없다?..

#### Topic 36. 칠판

- 읽고 쓰기가 자유로운 공용 보드에 작업하기. 

- 사용자들은 결과를 추가 삭제할수도, 적혀진 결과를 활용해 작업할수도있다.

- 유사한걸로 카프카, nats와 같은 메시징 시스템

## 7장. 코딩하는동안

#### Topic 37. 파충류의 뇌에 귀 기울이기

- 코딩하면서 꺼림직한 직감을 놓치지 말자.. 

- 마음속 작게라도 느껴지는 불편함에 집중하자. 

- 불편함에서 문제를 정의했다면 이를 해결하기 의해 프로토타이핑을 시작하자.

- 프로토타이핑의 목적은 완성이 아닌, 문제의 원인규명과 해결책제시.
  
  - 프로토타이핑 작동의 성공유무에 상관없이 프로토타이핑은 버리는것이란걸 잊지말자

#### Topic 38. 우연에 맡기는 프로그래밍

- 작동만 하면 오케이인 화물 운송 코드를 숭배하고 있는 건 아닐까?

- 작동만 한다면 괜찮지 라며 왜 작동이 되는지 모르고 넘어가진 않는가?

- 의도를 갖고 계획을 세우고 원인과 결과를 명확하게 인지하자. 

- 필연적인 프로그래밍을 하라.

#### Topic 39. 알고리즘의 속도

- 구현과 테스트에 앞서 알고리즘의 O(n)을 추정해보자.

#### Topic 40. 리팩토링

- "클린 코드" 관련

- 리팩토링 = 고통 관리(Pain management)

- 잘못된 부분을 지나치지 말라, 문제를 발견한 당일내에 조치를 취하라.

- 프로젝트를 완수한 후 리팩토링을 위해 1주의 시간을 더달라..
  
  - 매우 지탄받는 방법
  
  - 사실상 "재작성"을 하겠다는 말과 별반 다를게 없다.

- 문제를 발견한 즉시 고쳐라.
  
  - 지금은 돌아가니 나중에 보자라는 생각은 작은 종양을 알고도 지나치는 행위이다.
  
  - 누가 시간폭한을 안고있는 서비스를 구매하고 싶을까?

#### Topic 41. 테스트로 코딩하기

- 테스트의 목적은 버그찾기가 아니라 테스트 그 자체에 있다.
  
  - 코드 작성을 하며 테스트에 대해 생각하면 코드를 어떻게 작성할지 알 수 있다는 것이 테스트의 가장 큰 장점

- 테스트 주도 개발(TDD, test-driven development), 단위 테스트(unit test), 임시 테스트(ad-hoc test)

- 테스트 먼저, 코드와 테스트를 함께, 나중에 테스트. 여러 대안이 있다.
  
  - 이중 "나중에 테스트"는 순 거짓말이다. 테스트를 안하겠다는 말과 동일하다.

#### Topic 42. 속성 기반 테스트

- 계약과 불변식(invariant)이라는 속성
  
  - 메서드의 전후 조건(계약)을 만족하는가?
  
  - 변하지 않는 요소, 불변식을 고려하여 테스트하였는가?

- 계약과 불변식이라는 속성을 고려한 테스트는 기발함과 좌절감을 안겨준다.



---

- 레퍼런스

> 실용주의 프로그래머
