<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>JSX로 만드는 조리법</title>
</head>
<body>
  <div id = "root"></div>
  
  <script src="https://unpkg.com/react@16.8.6/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@16.8.6/umd/react-dom.development.js"></script>
  
  <script type="text/babel">
    const data = [
      {
        'name':"baked salmon",
        'ingredients' : [
          { 'name' : "salmon", 'amount': 500, 'measurement':'gram'},
          { 'name' : "butter lettuece", "amount" : 2, 'measurement':'cup' },
          { 'name' : "yellow squash", "amount" : 1, 'measurement':'unit' },
          { 'name' : "olive oil", "amount" : 0.5, 'measurement':'cup' },
          { 'name' : "garlic", "amount" : 3, 'measurement':'unit' },
        ],
        "steps": [
          "hit the oven to 350",
          "pour olive oil in the glass baking bour",
          "put salmon, garlic, nut in the bour",
          "bake ingredients in the bour 15 minutes",
          "add yellow squash bake the bour 30 minutes again",
          "put out the bour, cool down about 15 minutes. put some butter lettuce and all done"
        ]
      },
      {
        'name':"fish taco",
        'ingredients' : [
          { 'name' : "white fish", 'amount': 500, 'measurement':'gram'},
          { 'name' : "cheese", "amount" : 1, 'measurement':'cup' },
          { 'name' : "icebug lettuce", "amount" : 2, 'measurement':'cup' },
          { 'name' : "tomato", "amount" : 2, 'measurement':'unit' },
          { 'name' : "tortia", "amount" : 3, 'measurement':'unit' },
        ],
        "steps": [
          "bake fist on the grill",
          "put baked fish on the three of tortia",
          "add lettuce, tomato and cheese. it is all done"
        ]
      },
    ];
    
    function Recipe({ name, ingredients, steps}) { // 구조분해로 바로 인수 받기
      return(
        <section id = {name.toLowerCase().replace(/ /g,"-")}>
          <h1>{name}</h1>
          <ul className="ingredients">
            {ingredients.map((ingredient,i) => (
              <li key = {i}>{ingredient.name}</li>))}
          </ul>
          <section className="instructions">
            <h2>how to cook</h2>
            {steps.map((step,i) => (
              <p key={i}>{step}</p>
            ))}
          </section>
        </section>
      )
    };

    function Menu({ title, recipes}) {
      return (
        <article>
          <header>
            <h1>{title}</h1>  
          </header>
          <div className="recipes">
            {recipes.map((recipe,i) => (
              <Recipe key={i} {...recipe}/>))}
          </div>
        </article>
      )
    };

    ReactDOM.render(
      <Menu recipes= {data} title = "delicious recipe"/>,
      document.getElementById('root')
    )
  </script>
</body>
</html>